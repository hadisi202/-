<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¿ä»¶æŸ¥è¯¢æ˜¾ç¤ºæ•ˆæœ - ä¿®æ”¹å</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; 
            margin: 0; 
            padding: 16px; 
            background: #f5f5f5; 
            line-height: 1.4;
        }
        .container { max-width: 400px; margin: 0 auto; }
        .header { margin-bottom: 16px; text-align: center; }
        .title { font-size: 18px; font-weight: 600; color: #333; }
        .subtitle { color: #666; margin-top: 4px; font-size: 14px; }
        .search-box { background: #fff; padding: 12px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.06); margin-bottom: 16px; }
        .code-input { width: 100%; border: 1px solid #eee; padding: 10px; border-radius: 6px; box-sizing: border-box; font-size: 16px; }
        .actions { display: flex; gap: 12px; margin-top: 12px; }
        .btn { flex: 1; padding: 10px; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; }
        .btn.scan { background: #28a745; color: white; }
        .btn.search { background: #007bff; color: white; }
        .result { margin-top: 16px; }
        .result-type { font-size: 16px; font-weight: 500; margin-bottom: 8px; color: #333; }
        .card { background: #fff; padding: 12px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.06); }
        .row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #f0f0f0; align-items: flex-start; }
        .row:last-child { border-bottom: none; }
        .label { color: #666; font-size: 14px; min-width: 80px; }
        .value { font-weight: 500; word-break: break-all; text-align: right; flex: 1; margin-left: 12px; font-size: 14px; }
        .section-title { 
            font-size: 14px; 
            font-weight: 600; 
            color: #333; 
            margin: 12px 0 8px 0; 
            padding-bottom: 4px; 
            border-bottom: 2px solid #007aff; 
            background: #f8f9fa;
            padding: 8px 12px 4px 12px;
            margin: 12px -12px 8px -12px;
            border-radius: 4px 4px 0 0;
        }
        .highlight { background: #fff3cd; padding: 2px 6px; border-radius: 4px; color: #856404; font-weight: 600; }
        .status { padding: 2px 8px; border-radius: 12px; font-size: 12px; }
        .status.pending { background: #ffeaa7; color: #d63031; }
        .status.completed { background: #d1f2eb; color: #00b894; }
        .comparison { margin-top: 20px; padding: 16px; background: #e8f4fd; border-radius: 8px; border-left: 4px solid #007bff; }
        .comparison h3 { margin: 0 0 12px 0; color: #007bff; font-size: 16px; }
        .comparison ul { margin: 0; padding-left: 20px; }
        .comparison li { margin-bottom: 8px; color: #333; }
        .new-feature { color: #28a745; font-weight: 600; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title">æ‰“åŒ…ç³»ç»ŸæŸ¥è¯¢</div>
            <div class="subtitle">æ”¯æŒæ‰«ç æˆ–è¾“å…¥ç¼–ç æŸ¥è¯¢æ¿ä»¶/åŒ…è£¹/æ‰˜ç›˜</div>
        </div>

        <div class="search-box">
            <input class="code-input" placeholder="è¯·è¾“å…¥ç¼–ç æˆ–æ‰«ç " value="2507865594654Q" readonly />
            <div class="actions">
                <button class="btn scan">æ‰«ç æŸ¥è¯¢</button>
                <button class="btn search" onclick="loadData()">ç¼–ç æŸ¥è¯¢</button>
            </div>
        </div>

        <div class="result">
            <div class="result-type">ç±»å‹ï¼šæ¿ä»¶</div>
            <div class="card">
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <div class="section-title">åŸºæœ¬ä¿¡æ¯</div>
                <div class="row"><span class="label">æ¿ä»¶ç¼–ç </span><span class="value">2507865594654Q</span></div>
                <div class="row"><span class="label">è®¢å•å·</span><span class="value">HDS20250129</span></div>
                <div class="row"><span class="label">å®¢æˆ·åœ°å€</span><span class="value">å®‰æµ·</span></div>
                <div class="row"><span class="label">æ¿ä»¶åç§°</span><span class="value">é¡¶æ¿</span></div>
                <div class="row"><span class="label">æè´¨</span><span class="value">çˆ±æ ¼å®‰å“¥æ‹‰ç°U705ST9åŒé¢ä¸‰èƒºé¢—ç²’æ¿18å˜2800*2070</span></div>
                <div class="row"><span class="label">å°ºå¯¸</span><span class="value">400 X 138 X 18</span></div>
                <div class="row"><span class="label">æˆ¿é—´å·</span><span class="value">006ä¸»å§çª—è¾¹æŸœ</span></div>
                <div class="row"><span class="label">æŸœå·</span><span class="value">3å·æŸœ</span></div>
                
                <!-- åŒ…è£…ä¿¡æ¯ -->
                <div class="section-title">åŒ…è£…ä¿¡æ¯</div>
                <div class="row"><span class="label">æ‰€åœ¨åŒ…è£¹</span><span class="value">202509290007</span></div>
                <div class="row"><span class="label">ç¬¬å‡ ä¸ªåŒ…è£¹</span><span class="value highlight">ç¬¬3ä¸ªåŒ…è£¹</span></div>
                <div class="row"><span class="label">æ‰€åœ¨æ‰˜ç›˜</span><span class="value">T202509300002</span></div>
                <div class="row"><span class="label">ç¬¬å‡ ä¸ªæ‰˜ç›˜</span><span class="value highlight">ç¬¬2ä¸ªæ‰˜ç›˜</span></div>
                
                <!-- å…¶ä»–ä¿¡æ¯ -->
                <div class="section-title">å…¶ä»–ä¿¡æ¯</div>
                <div class="row"><span class="label">çŠ¶æ€</span><span class="value"><span class="status pending">å¾…å¤„ç†</span></span></div>
                <div class="row"><span class="label">åˆ›å»ºæ—¶é—´</span><span class="value">2025-09-27 02:23:33</span></div>
                <div class="row"><span class="label">æ‰«ææ—¶é—´</span><span class="value">2025-09-29 14:55:58</span></div>
            </div>
        </div>

        <div class="comparison">
            <h3>ğŸ”§ é—®é¢˜ä¿®å¤è¯´æ˜</h3>
            <ul>
                <li><span class="new-feature">âœ… é—®é¢˜ï¼š</span>å¾®ä¿¡å°ç¨‹åºä¸­åŒ…è£¹åºå·å’Œæ‰˜ç›˜åºå·ä¸æ˜¾ç¤º</li>
                <li><span class="new-feature">âœ… åŸå› ï¼š</span>æ¡ä»¶åˆ¤æ–­ <code>wx:if="{{result.package.package_index}}"</code> åœ¨ <code>result.package</code> ä¸ºç©ºæ—¶ä¼šæŠ¥é”™</li>
                <li><span class="new-feature">âœ… è§£å†³æ–¹æ¡ˆï¼š</span>ä¿®æ”¹ä¸º <code>wx:if="{{result.package && result.package.package_index}}"</code></li>
                <li><span class="new-feature">âœ… ä¿®å¤åæ•ˆæœï¼š</span>ç°åœ¨å¯ä»¥æ­£ç¡®æ˜¾ç¤º"ç¬¬3ä¸ªåŒ…è£¹"å’Œ"ç¬¬2ä¸ªæ‰˜ç›˜"ä¿¡æ¯</li>
            </ul>
        </div>

        <div class="comparison">
            <h3>ğŸ‰ ä¿®æ”¹å†…å®¹æ€»ç»“</h3>
            <ul>
                <li><span class="new-feature">âœ… æ–°å¢ä¿¡æ¯åˆ†ç»„</span>ï¼šåŸºæœ¬ä¿¡æ¯ã€åŒ…è£…ä¿¡æ¯ã€å…¶ä»–ä¿¡æ¯</li>
                <li><span class="new-feature">âœ… æ–°å¢åŒ…è£¹åºå·</span>ï¼šæ˜¾ç¤º"ç¬¬å‡ ä¸ªåŒ…è£¹"</li>
                <li><span class="new-feature">âœ… æ–°å¢æ‰˜ç›˜åºå·</span>ï¼šæ˜¾ç¤º"ç¬¬å‡ ä¸ªæ‰˜ç›˜"</li>
                <li><span class="new-feature">âœ… ä¼˜åŒ–ä¿¡æ¯æ’åº</span>ï¼šæŒ‰é‡è¦æ€§é‡æ–°æ’åˆ—å­—æ®µ</li>
                <li><span class="new-feature">âœ… æ”¹è¿›è§†è§‰æ•ˆæœ</span>ï¼šæ·»åŠ åˆ†ç»„æ ‡é¢˜å’Œæ ·å¼</li>
            </ul>
        </div>
    </div>

    <style>
      /* æ–°å¢ï¼šåŒ…è£…ç•Œé¢æ”¹ç‰ˆé¢„è§ˆæ ·å¼ */
      .ui-preview { max-width: 820px; margin: 24px auto; background: #fff; border-radius: 10px; box-shadow: 0 6px 20px rgba(0,0,0,0.06); padding: 16px; }
      .ui-preview .title { font-size: 16px; font-weight: 700; color: #222; margin-bottom: 12px; }
      .grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; }
      .control { display: flex; flex-direction: column; gap: 6px; }
      .control label { font-size: 13px; color: #555; }
      .control select { padding: 8px; border: 1px solid #e5e5e5; border-radius: 6px; background: #fafafa; font-size: 14px; }
      .btnbar { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
      .btnbar .btn { padding: 8px 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 13px; }
      .btn.primary { background: #005bbb; color: #fff; }
      .btn.success { background: #28a745; color: #fff; }
      .btn.warn { background: #e67e22; color: #fff; }
      .btn.danger { background: #c0392b; color: #fff; }
      .status-bar { margin-top: 12px; padding: 10px; border-radius: 8px; background: #f0f7ff; color: #005bbb; font-weight: 700; }
      .status-bar.ok { background: #f3e9ff; color: #8e44ad; }
      .status-bar.warn { background: #fff6e9; color: #e67e22; }
      .status-bar.error { background: #ffecec; color: #c0392b; }
      .table-preview { margin-top: 12px; border: 1px dashed #e0e0e0; border-radius: 8px; padding: 8px; }
      .table-preview .thead, .table-preview .row { display: grid; grid-template-columns: 80px 120px 100px 140px 140px 120px 100px 80px; gap: 8px; }
      .table-preview .thead { font-weight: 700; color: #333; padding-bottom: 6px; border-bottom: 2px solid #f0f0f0; }
      .table-preview .row { padding: 6px 0; border-bottom: 1px dashed #f0f0f0; }
    </style>

    <div class="ui-preview">
      <div class="title">åŒ…è£…ç•Œé¢æ”¹ç‰ˆé¢„è§ˆ</div>
      <div class="grid">
        <div class="control">
          <label>è®¢å•é€‰æ‹©</label>
          <select>
            <option>HDS20250129ï¼ˆå®‰æµ·ï¼‰</option>
            <option>HDS20250208ï¼ˆå¦é—¨ï¼‰</option>
          </select>
        </div>
        <div class="control">
          <label>éªŒè¯æ¨¡å¼</label>
          <select>
            <option>ä¸¥æ ¼</option>
            <option>å®½æ¾</option>
          </select>
        </div>
        <div class="control">
          <label>æ‰“åŒ…æ–¹å¼</label>
          <select>
            <option>æŒ‰æˆ¿é—´åˆ†ç»„</option>
            <option>æŒ‰æŸœå·åˆ†ç»„</option>
            <option selected>æ··åˆæ‰“åŒ…</option>
          </select>
        </div>
      </div>

      <div class="btnbar">
        <button class="btn primary">å…¨é€‰</button>
        <button class="btn">å–æ¶ˆå…¨é€‰</button>
        <button class="btn success">ä¸€é”®æ‰“åŒ…é€‰ä¸­é¡¹</button>
        <button class="btn warn">åˆ é™¤é€‰ä¸­æ¿ä»¶</button>
        <button class="btn danger">å…³é—­</button>
      </div>

      <div class="status-bar">çŠ¶æ€: å·²åˆ‡æ¢è®¢å•ï¼Œè¯·é€‰æ‹©åŒ…è£¹</div>

      <div class="table-preview">
        <div class="thead">
          <div>ç¼–å·</div><div>åç§°</div><div>æè´¨</div><div>å°ºå¯¸</div><div>æˆ¿é—´å·</div><div>æŸœå·</div><div>çŠ¶æ€</div><div>æ“ä½œ</div>
        </div>
        <div class="row">
          <div>2507865594654Q</div><div>é¡¶æ¿</div><div>çˆ±æ ¼å®‰å“¥æ‹‰ç°â€¦</div><div>400x138x18</div><div>006ä¸»å§</div><div>3å·æŸœ</div><div>pending</div><div><button class="btn warn">ç§»é™¤</button></div>
        </div>
        <div class="row">
          <div>2507865594655Q</div><div>ä¾§æ¿</div><div>çˆ±æ ¼å®‰å“¥æ‹‰ç°â€¦</div><div>500x138x18</div><div>006ä¸»å§</div><div>3å·æŸœ</div><div>pending</div><div><button class="btn warn">ç§»é™¤</button></div>
        </div>
      </div>

      <div class="btnbar">
        <button class="btn" onclick="loadData()">æµ‹è¯• API (http://localhost:5000)</button>
        <button class="btn ok" onclick="document.querySelector('.status-bar').className='status-bar ok';document.querySelector('.status-bar').textContent='çŠ¶æ€: åŒ…è£…å·²å®Œæˆ';">æ¨¡æ‹Ÿå®Œæˆ</button>
        <button class="btn warn" onclick="document.querySelector('.status-bar').className='status-bar warn';document.querySelector('.status-bar').textContent='çŠ¶æ€: å®Œæ•´æ€§æ£€æŸ¥æœªé€šè¿‡';">æ¨¡æ‹Ÿè­¦å‘Š</button>
        <button class="btn danger" onclick="document.querySelector('.status-bar').className='status-bar error';document.querySelector('.status-bar').textContent='çŠ¶æ€: åŒ…è£…ä¸ºç©ºï¼Œæ— æ³•å®Œæˆ';">æ¨¡æ‹Ÿé”™è¯¯</button>
      </div>
    </div>

    <script>
        function loadData() {
            fetch('http://localhost:5000/api/search?code=2507865594654Q')
                .then(response => response.json())
                .then(data => {
                    console.log('APIè¿”å›æ•°æ®:', data);
                    alert('âœ… APIè°ƒç”¨æˆåŠŸï¼\n\nåŒ…è£¹åºå·: ' + data.package.package_index + '\næ‰˜ç›˜åºå·: ' + data.pallet.pallet_index + '\n\nè¯·æŸ¥çœ‹æ§åˆ¶å°è·å–å®Œæ•´æ•°æ®');
                })
                .catch(error => {
                    console.error('APIè°ƒç”¨å¤±è´¥:', error);
                    alert('âŒ APIè°ƒç”¨å¤±è´¥ï¼Œä½†é¢„è§ˆæ•°æ®æ­£å¸¸æ˜¾ç¤º');
                });
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æµ‹è¯•API
        window.addEventListener('load', () => {
            console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œå¯ä»¥ç‚¹å‡»"ç¼–ç æŸ¥è¯¢"æŒ‰é’®æµ‹è¯•API');
        });
    </script>
</body>
</html>